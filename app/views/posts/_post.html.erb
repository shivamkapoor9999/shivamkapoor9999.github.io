<li id="post-<%= p.id %>" class="post">
	<div class="post-content">
		<div class="text">
			<p >
				<%= p.content %>
			</p>
			<p class="author-details">
				<%= p.user.email%> at <%= p.created_at %>
			</p>


			 <div id="NoOfLikes-post-<%= p.id %>">
			 <% if(Like.find_by(user:current_user,likeable_type:"Post",likeable_id:p.id)==nil)%>
				<button id="like-button"><%= link_to "like", likeToggle_path(p.id,"Post"),:id => "my-link", remote: true,  method: :post %></button>
			<%else%>
				<button id="unlike-button"><%= link_to "unlike", likeToggle_path(p.id,"Post"),:id => "my-link", remote: true,  method: :post %></button>
			<%end%>
				<p>Likes <%= Like.where(likeable_type:"Post",likeable_id:p.id).length %></p>
			</div> 


		</div> 
		
		<p class="post-destroy-link">
			<%= link_to "X", post_path(p.id), remote: true, method: :delete %>
		</p>
	</div>

	<div class="post-comments-container">
		<%= form_for @comment, remote: true do |f| %>
			<%= f.hidden_field :post_id, value: p.id %>
			<%= f.text_area :content, placeholder: "Add Comment" %>
			<%= f.submit %>
		<% end %>
		<ul class="comments-list">
			<% p.comments.each do |com| %>
			<!-- <li>
				<div>
					<p>
					<%= com.content %>
					</p>
					<p class="author-details"><%= com.user.email%> at <%= com.created_at %>
					</p>
				</div>
				
				<p class="comment-destroy-link">
					<%= link_to "X", comment_path(com.id), method: :delete %>
				</p>
			</li> -->
			<%= render 'comments/comment', com: com %>
			<% end %>
		</ul>
	</div>
</li>